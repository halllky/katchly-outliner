<Katchly DiscardSearchLimit="True">

  <Row is="write-model">
    <ID is="uuid"/>
    <Text is="sentence" />
    <RowType is="ref-to:RowType"/>
    <Attrs is="array">
      <ColType is="ref-to:RowType/Columns key" />
      <Value is="sentence" />
      <UpdatedOn is="datetime" />
    </Attrs>
    <Indent is="int" />
    <CreatedOn is="datetime" />
    <CreateUser is="word" />
    <UpdatedOn is="datetime" />
    <UpdateUser is="word" />
  </Row>

  <RowOrder is="write-model">
    <Row is="ref-to:Row key" />
    <Order is="decimal" />
  </RowOrder>

  <RowType is="write-model">
    <ID is="uuid"/>
    <RowTypeName is="word" />
    <Columns is="array">
      <ColumnId is="uuid" />
      <ColumnName is="word" />
    </Columns>
    <CreatedOn is="datetime" />
    <CreateUser is="word" />
    <UpdatedOn is="datetime" />
    <UpdateUser is="word" />
  </RowType>

  <Comment is="write-model">
    <ID is="uuid"/>
    <Text is="sentence" />
    <Author is="word" />
    <CreatedOn is="datetime" />
    <UpdatedOn is="datetime" />

    <Target is="variation">
      <CommentTargetRow is="variation-key:1">
        <Row is="ref-to:Row" />
      </CommentTargetRow>
      <CommentTargetCell is="variation-key:2">
        <Cell is="ref-to:Row/Attrs" />
      </CommentTargetCell>

      <CommentTargetRowType is="variation-key:3">
        <RowType is="ref-to:RowType" />
      </CommentTargetRowType>
      <CommentTargetColumn is="variation-key:4">
        <Column is="ref-to:RowType/Columns" />
      </CommentTargetColumn>

      <CommentTargetComment is="variation-key:5">
        <!-- 自分自身へのRefが未実装のため -->
        <!-- <Comment is="ref-to:Comment" /> -->
        <CommentId is="uuid" />
      </CommentTargetComment>
    </Target>
  </Comment>

  <!-- LogOrderの履歴管理をしていないのは、並び順のデータ構造の仕様が定まっていないため。 -->
  <Log is="write-model">
    <ID is="uuid"/>
    <LogTime is="datetime" />

    <!-- Row or RowType -->
    <UpdatedObject is="word" />
    <!-- INS or UPD or DEL -->
    <UpdateType is="word" />

    <RowIdOrRowTypeId is="word" />
    <Content is="sentence" />
  </Log>

</Katchly>
